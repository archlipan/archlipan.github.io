---
layout: post
title: Java 模式- 观察者
category: java
---

观察者模式：

一般来说，我们要实现对于某个数据对象提供者(Subject)相关的业务逻辑，不考虑模式的情况下，从业务逻辑的角度，针对具体业务编程，那么我们会定义一个类 (Reader)去从 Subject中获得数据，然后进行具体的业务逻辑操作；

OK，这样就必然带来一个问题，那就是两者被紧密的耦合在了一起，你中有我我中有你，一旦后期有业务需求上的改动(事实上实际中改是必然，不改是不可能的),那么两者就需要同步修改，牵一发而动全身，这就是紧耦合带来的系统低扩展弹性；

回到模式上来，模式的根本在我理解看来都是为了解耦抽象封装服务，为了可扩展可维护服务；

对于观察者模式来说，就是如何设计更好的 Subject 与 Reader组合模型结构，一种比较合适的比较模型就是RSS订阅机制，一旦注册订阅了源站内容，只要源站内容有更新，就会自动推送到读者手上，这种注册订阅机制就是观察者模式的核心；

当有多个订阅读者时，只要都注册订阅了，那么Subject 只需利用合适的数据结构存放读者列表，但一旦内容更新，一一推送即可；一旦不再不再关心这个订阅内容，订阅者可以取消订阅，Subject从订阅列表中删除该用户，不再推送；

进一步分析，若是直接利用这一规则，构建具体的实例，仔细想想，如果画出类图对象之间依旧有直接耦合，利用怎样的方式去变直接耦合为间接松耦合呢？