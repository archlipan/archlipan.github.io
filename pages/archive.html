---
layout: post
title: 归档
---

{% for post in site.posts  %}
    {% capture this_year %}{{ post.date | date: "%Y" }}{% endcapture %}
    {% capture this_month %}{{ post.date | date: "%m" }}{% endcapture %}
    {% capture next_year %}{{ post.previous.date | date: "%Y" }}{% endcapture %}
    {% capture next_month %}{{ post.previous.date | date: "%m" }}{% endcapture %}
  
    {% if forloop.first %}
      <legend id="{{this_year}}-{{this_month}}" class="pl__date">{{this_year}}-{{this_month}}</legend>
      <ul>
    {% endif %}
    <li><span class="pl__date">{{ post.date | date: "%Y-%m-%d" }}</span> &raquo; 
      <a class="pl__title" href="{{ post.url }}">{{ post.title }}</a>
    </li>
  
    {% if forloop.last %}
      </ul>
    {% else %}
      {% if this_year != next_year %}
        </ul>
        <legend id="{{next_year}}-{{next_month}}" class="pl__date">{{next_year}}-{{next_month}}</legend>
        <ul>
      {% else %}    
        {% if this_month != next_month %}
        </ul>
        <legend id="{{next_year}}-{{next_month}}" class="pl__date">{{next_year}}-{{next_month}}</legend>
        <ul>
        {% endif %}
      {% endif %}
    {% endif %}
{% endfor %}